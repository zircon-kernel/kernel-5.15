ARCH=arm64
CROSS_COMPILE=aarch64-linux-gnu-
LLVM=1
LLVM_IAS=1
# DEFCONFIG=defconfig
KERNEL_DIR=kernel-5.15
# for check scripts
#CC=clang
#LD=ld.lld
#AR=llvm-ar
#NM=llvm-nm
#OBJCOPY=llvm-objcopy
#OBJDUMP=llvm-objdump
#READELF=llvm-readelf
#OBJSIZE=llvm-size
#STRIP=llvm-strip
FILES="vmlinux"
DTC='${OUT_DIR}/scripts/dtc/dtc'
ABI_OUT_TAG="mtk"
KMI_SYMBOL_LIST=android/abi_gki_aarch64_mtk
GKI_MODULES_LIST=android/gki_aarch64_modules
ABI_DEFINITION=android/abi_gki_aarch64.xml
BUILD_SYSTEM_DLKM=
BUILD_GKI_ARTIFACTS=
DIST_DIR=
NDK_TRIPLE=aarch64-linux-android31
PATH=${ROOT_DIR}/../prebuilts/perl/linux-x86/bin:${ROOT_DIR}/build/kernel/build-tools/path/linux-x86:/usr/bin:/bin
GKI_PATH=${ROOT_DIR}/../prebuilts/perl/linux-x86/bin:${ROOT_DIR}/build/kernel/build-tools/path/linux-x86:/usr/bin:/bin
GKI_SKIP_DEFCONFIG=
MAKE_GOALS="all"
if [ "x${GKI_BUILD_CONFIG}" == "x" ] && [ "x${GKI_PREBUILTS_DIR}" == "x" ]; then
  MAKE_GOALS="${MAKE_GOALS} Image.lz4"
fi
TRIM_NONLISTED_KMI=
if [ "x${GKI_BUILD_CONFIG}" != "x" ] || [ "x${GKI_PREBUILTS_DIR}" != "x" ]; then
  GKI_TRIM_NONLISTED_KMI=0
  GKI_KMI_SYMBOL_LIST_STRICT_MODE=0
fi
KMI_SYMBOL_LIST_STRICT_MODE=
MODULES_ORDER=
KMI_ENFORCED=1
if [ "x${DO_ABI_MONITOR}" == "x1" ]; then
  KMI_SYMBOL_LIST_MODULE_GROUPING=0
  KMI_SYMBOL_LIST_ADD_ONLY=1
  ADDITIONAL_KMI_SYMBOL_LISTS="${ADDITIONAL_KMI_SYMBOL_LISTS} android/abi_gki_aarch64"
fi
unset BUILD_NUMBER
REL_KERNEL_PATH=`./${KERNEL_DIR}/scripts/get_rel_path.sh ${ROOT_DIR} kernel-5.15`
DEFCONFIG="gki_defconfig ../../../${REL_KERNEL_PATH}/${OUT_DIR}/mgk_64_k515.config zircon.config   ok_google_global.config"
PRE_DEFCONFIG_CMDS="cp -p ${KERNEL_DIR}/arch/arm64/configs/mgk_64_k515_defconfig ${OUT_DIR}/mgk_64_k515.config"
EXT_MODULES="../vendor/mediatek/kernel_modules/fpsgo_cus ../vendor/mediatek/kernel_modules/met_drv_v3 ../vendor/mediatek/kernel_modules/connectivity/common ../vendor/mediatek/kernel_modules/connectivity/conninfra ../vendor/mediatek/kernel_modules/connectivity/connfem ../vendor/mediatek/kernel_modules/connectivity/gps/gps_stp ../vendor/mediatek/kernel_modules/connectivity/gps/data_link/plat/v010 ../vendor/mediatek/kernel_modules/connectivity/gps/data_link/plat/v030 ../vendor/mediatek/kernel_modules/connectivity/gps/data_link/plat/v050 ../vendor/mediatek/kernel_modules/connectivity/gps/data_link/plat/v051 ../vendor/mediatek/kernel_modules/connectivity/gps/data_link/plat/v060 ../vendor/mediatek/kernel_modules/connectivity/gps/data_link/plat/v061 ../vendor/mediatek/kernel_modules/connectivity/gps/gps_pwr ../vendor/mediatek/kernel_modules/connectivity/gps/gps_scp ../vendor/mediatek/kernel_modules/gpu ../vendor/mediatek/kernel_modules/connectivity/fmradio ../vendor/mediatek/kernel_modules/connectivity/wlan/adaptor ../vendor/mediatek/kernel_modules/connectivity/wlan/adaptor/wlan_page_pool ../vendor/mediatek/kernel_modules/connectivity/bt/linux_v2 ../vendor/mediatek/kernel_modules/hbt_driver_cus ../vendor/xiaomi/proprietary/touch/touchfeature_v2/touch_driver ../vendor/xiaomi/proprietary/slm/kmod ../vendor/xiaomi/proprietary/miwillp/engine ../vendor/xiaomi/proprietary/minet/driver ../vendor/xiaomi/proprietary/kernelmodules/debug_ext/kmodule"
DIST_CMDS='cp -p ${OUT_DIR}/.config ${DIST_DIR}'
